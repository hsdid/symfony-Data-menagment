{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>


<div class="example-wrapper">

        {% if msg is defined %} 
        <div class="alert alert-danger">

            {{msg}}

        </div> 
        {% endif %}      
    <h3>All {{user.username}} products</h3>
    
        <div class="mt-4 ">
            {% if products is defined %}
            <table class="table" id="products">
                <thead>
                        <tr>
                            <th scope="col">id</th>
                            <th scope="col">name</th>
                            <th scope="col">info</th>
                            <th scope="col"><a href="/user/{{user.id}}/products/sortByPublicTime/DESC"> public time</a> </th>
                            <th scope="col"><a href="/user/{{user.id}}/products/sortByLikes/DESC"> likes </a></th>
                        </tr>       
                       
                </thead>
                <tbody>
                
                {% for product in products %}
                
                <tr>
                   
                    <td scope="row">{{ product.id }} </td>
                    <td>{{ product.name }} </td>
                    <td>{{ product.info }} </td>
                    <td>{{ product.getPublicDate|date("Y-m-d") }} </td>
                    <td>{{ product.likes.count }} </td>
                    <td>
                      
                    </td> 
                   
                </tr>

                {% endfor %}
                </tbody> 
            </table>
            {% else %}
            You dont have any product

            {% endif %}
        </div>
    
    
    
</div>
{% endblock %}